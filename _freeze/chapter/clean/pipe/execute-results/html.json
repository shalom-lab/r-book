{
  "hash": "3f3f736c58d65de3acaa327c3c139ea1",
  "result": {
    "engine": "knitr",
    "markdown": "## 管道符-%\\>%\n\n### 常见用法\n\n\n\n\n::: {.cell context='setup'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nsub<-function(x,y){ #自定义求差函数\n  x-y\n}\n\nsub(1,2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -1\n```\n\n\n:::\n\n```{.r .cell-code}\nsub(2,3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -1\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#借用管道符调用\n1 %>% sub(2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -1\n```\n\n\n:::\n\n```{.r .cell-code}\n2 %>% sub(3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -1\n```\n\n\n:::\n\n```{.r .cell-code}\n#连续调用\n3 %>% sub(1) %>% sub(2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(1:10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5.5\n```\n\n\n:::\n\n```{.r .cell-code}\n1:10 %>% mean() %>% class()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"numeric\"\n```\n\n\n:::\n:::\n\n\n\n\n### 指定位置\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n1 %>% sub(2,.)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n\n```{.r .cell-code}\n1 %>% sub(.,2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -1\n```\n\n\n:::\n\n```{.r .cell-code}\n1 %>% sub(.,.)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(c(1:10,NA))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] NA\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(c(1:10,NA),na.rm=TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5.5\n```\n\n\n:::\n\n```{.r .cell-code}\nTRUE %>% mean(c(1:10,NA),na.rm=.)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5.5\n```\n\n\n:::\n:::\n\n\n\n\n### 实战应用\n\n管道符的优势即是连续调用\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmtcars %>%\n  filter(cyl==4) %>%\n  mutate(mpg2=mpg+100) %>%\n  select(cyl,mpg,mpg2) %>%\n  head()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"cyl\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"mpg\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"mpg2\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"4\",\"2\":\"22.8\",\"3\":\"122.8\",\"_rn_\":\"Datsun 710\"},{\"1\":\"4\",\"2\":\"24.4\",\"3\":\"124.4\",\"_rn_\":\"Merc 240D\"},{\"1\":\"4\",\"2\":\"22.8\",\"3\":\"122.8\",\"_rn_\":\"Merc 230\"},{\"1\":\"4\",\"2\":\"32.4\",\"3\":\"132.4\",\"_rn_\":\"Fiat 128\"},{\"1\":\"4\",\"2\":\"30.4\",\"3\":\"130.4\",\"_rn_\":\"Honda Civic\"},{\"1\":\"4\",\"2\":\"33.9\",\"3\":\"133.9\",\"_rn_\":\"Toyota Corolla\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n\n等价于\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(select(mutate(filter(mtcars,cyl==4),mpg2=mpg+100),cyl,mpg,mpg2))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"cyl\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"mpg\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"mpg2\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"4\",\"2\":\"22.8\",\"3\":\"122.8\",\"_rn_\":\"Datsun 710\"},{\"1\":\"4\",\"2\":\"24.4\",\"3\":\"124.4\",\"_rn_\":\"Merc 240D\"},{\"1\":\"4\",\"2\":\"22.8\",\"3\":\"122.8\",\"_rn_\":\"Merc 230\"},{\"1\":\"4\",\"2\":\"32.4\",\"3\":\"132.4\",\"_rn_\":\"Fiat 128\"},{\"1\":\"4\",\"2\":\"30.4\",\"3\":\"130.4\",\"_rn_\":\"Honda Civic\"},{\"1\":\"4\",\"2\":\"33.9\",\"3\":\"133.9\",\"_rn_\":\"Toyota Corolla\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}